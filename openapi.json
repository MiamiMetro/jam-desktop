{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":""}},"summary":"Register a new user","tags":["Auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":""}},"summary":"Login and get access token","tags":["Auth"]}},"/auth/me":{"get":{"operationId":"AuthController_getMe","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get current user info","tags":["Auth"]}},"/profiles/me":{"get":{"operationId":"ProfilesController_getMyProfile","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get my profile","tags":["Profiles"]},"patch":{"operationId":"ProfilesController_updateMyProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Update my profile","tags":["Profiles"]}},"/profiles/{username}":{"get":{"operationId":"ProfilesController_getProfileByUsername","parameters":[{"name":"username","required":true,"in":"path","schema":{"example":"johndoe","type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get profile by username (public)","tags":["Profiles"]}},"/profiles/{username}/posts":{"get":{"operationId":"ProfilesController_getPostsByUsername","parameters":[{"name":"username","required":true,"in":"path","schema":{"example":"johndoe","type":"string"}},{"name":"limit","required":false,"in":"query","schema":{"example":20,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get posts by a specific user","tags":["Profiles"]}},"/posts":{"post":{"operationId":"PostsController_createPost","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Create a new post","tags":["Posts"]}},"/posts/feed":{"get":{"operationId":"PostsController_getFeed","parameters":[{"name":"limit","required":false,"in":"query","schema":{"example":20,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get global feed (all posts)","tags":["Posts"]}},"/posts/{postId}":{"get":{"operationId":"PostsController_getPost","parameters":[{"name":"postId","required":true,"in":"path","description":"Post ID","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get a single post by ID (public)","tags":["Posts"]},"delete":{"operationId":"PostsController_deletePost","parameters":[{"name":"postId","required":true,"in":"path","description":"Post ID","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Delete my post","tags":["Posts"]}},"/posts/{postId}/like":{"post":{"operationId":"PostsController_toggleLike","parameters":[{"name":"postId","required":true,"in":"path","description":"Post ID","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Like or unlike a post (toggle)","tags":["Posts"]}},"/posts/{postId}/likes":{"get":{"operationId":"PostsController_getPostLikes","parameters":[{"name":"postId","required":true,"in":"path","description":"Post ID","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get list of users who liked a post (public)","tags":["Posts"]}},"/posts/{postId}/comments":{"get":{"operationId":"PostsController_getComments","parameters":[{"name":"postId","required":true,"in":"path","description":"Post ID","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","schema":{"example":20,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}},{"name":"order","required":false,"in":"query","description":"Order by timestamp (asc = oldest first, desc = newest first)","schema":{"enum":["asc","desc"],"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get all comments for a post","tags":["Posts"]},"post":{"operationId":"PostsController_createComment","parameters":[{"name":"postId","required":true,"in":"path","description":"Post ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Create a comment on a post","tags":["Posts"]}},"/blocks/{userId}":{"post":{"operationId":"BlocksController_blockUser","parameters":[{"name":"userId","required":true,"in":"path","description":"ID of user to block","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Block a user","tags":["Blocks"]},"delete":{"operationId":"BlocksController_unblockUser","parameters":[{"name":"userId","required":true,"in":"path","description":"ID of user to unblock","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Unblock a user","tags":["Blocks"]}},"/blocks":{"get":{"operationId":"BlocksController_getBlockedUsers","parameters":[{"name":"limit","required":false,"in":"query","schema":{"example":50,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get list of blocked users","tags":["Blocks"]}},"/friends/{userId}/request":{"post":{"operationId":"FriendsController_requestFriend","parameters":[{"name":"userId","required":true,"in":"path","description":"ID of user to send friend request to","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Send a friend request to a user","tags":["Friends"]}},"/friends/{userId}/accept":{"post":{"operationId":"FriendsController_acceptFriendRequest","parameters":[{"name":"userId","required":true,"in":"path","description":"ID of user whose request to accept","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Accept a friend request from a user","tags":["Friends"]}},"/friends/{userId}":{"delete":{"operationId":"FriendsController_deleteFriend","parameters":[{"name":"userId","required":true,"in":"path","description":"ID of friend to remove","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Remove a friend or cancel a friend request","tags":["Friends"]}},"/friends":{"get":{"operationId":"FriendsController_getFriends","parameters":[{"name":"limit","required":false,"in":"query","schema":{"example":50,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get list of all friends","tags":["Friends"]}},"/friends/requests":{"get":{"operationId":"FriendsController_getFriendRequests","parameters":[{"name":"limit","required":false,"in":"query","schema":{"example":20,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get list of pending friend requests","tags":["Friends"]}},"/messages/send":{"post":{"operationId":"MessagesController_sendMessage","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Send a message to a user","tags":["Messages"]}},"/messages/conversations":{"get":{"operationId":"MessagesController_getMyConversations","parameters":[{"name":"limit","required":false,"in":"query","schema":{"example":50,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get list of my conversations","tags":["Messages"]}},"/messages/conversation/{userId}":{"get":{"operationId":"MessagesController_getMessagesWithUser","parameters":[{"name":"userId","required":true,"in":"path","description":"Other user ID","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","schema":{"example":50,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get messages with a specific user","tags":["Messages"]}},"/messages/{messageId}":{"delete":{"operationId":"MessagesController_deleteMessage","parameters":[{"name":"messageId","required":true,"in":"path","description":"Message ID","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Delete my message","tags":["Messages"]}},"/users":{"get":{"operationId":"UsersController_getAllUsers","parameters":[{"name":"limit","required":false,"in":"query","schema":{"example":20,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Search by username or display name","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get all users (for search/discovery)","tags":["Users"]}},"/users/online":{"get":{"operationId":"UsersController_getOnlineUsers","parameters":[{"name":"limit","required":false,"in":"query","schema":{"example":50,"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"example":0,"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get online users only","tags":["Users"]}}},"info":{"title":"Jam Backend API","description":"Jam Backend API Documentation","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"RegisterDto":{"type":"object","properties":{"email":{"type":"string","example":"newuser@gmail.com","description":"User email address"},"password":{"type":"string","example":"password123","description":"User password (min 6 characters)"},"username":{"type":"string","example":"newuser","description":"Username (3-20 characters, unique)"}},"required":["email","password","username"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"test@gmail.com","description":"User email address"},"password":{"type":"string","example":"test1234","description":"User password"}},"required":["email","password"]},"UpdateProfileDto":{"type":"object","properties":{"username":{"type":"string","example":"johndoe","description":"Unique username (3-20 characters)"},"display_name":{"type":"string","example":"John Doe","description":"Display name"},"avatar_url":{"type":"string","example":"https://example.com/avatar.jpg","description":"Avatar URL"},"bio":{"type":"string","example":"Music producer & DJ","description":"User bio (max 500 characters)"}}},"CreatePostDto":{"type":"object","properties":{"text":{"type":"string","example":"Just finished my new track! ðŸŽµ","description":"Post text content","maxLength":500},"audio_url":{"type":"string","example":"https://storage.supabase.co/audio/track.mp3","description":"Audio file URL"}}},"CreateCommentDto":{"type":"object","properties":{"content":{"type":"string","example":"Great track!","description":"Comment text content","maxLength":500},"audio_url":{"type":"string","example":"https://storage.supabase.co/audio/comment.mp3","description":"Audio file URL (optional, can be null for now)"}}},"SendMessageDto":{"type":"object","properties":{"recipient_id":{"type":"string","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","description":"ID of user to send message to"},"text":{"type":"string","example":"Hey! How are you?","description":"Message text"},"audio_url":{"type":"string","example":"https://storage.supabase.co/audio/voice.mp3","description":"Audio message URL"}},"required":["recipient_id"]}}}}